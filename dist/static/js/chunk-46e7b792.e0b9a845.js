(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46e7b792"],{"15f4":function(t,a,e){"use strict";e("b7bd")},"1c00":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"block"},[t._v("文件名称")]),e("div",{staticStyle:{"margin-bottom":"15px"}},[e("el-input",{attrs:{placeholder:"请输入文件的名称"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("div",{staticClass:"block"},[t._v("文件描述（每一项描述以英文逗号分割）")]),e("div",{staticStyle:{"margin-bottom":"15px"}},[e("el-input",{attrs:{placeholder:"请输入项目的描述，每一项描述以英文逗号分割"},model:{value:t.form.description,callback:function(a){t.$set(t.form,"description",a)},expression:"form.description"}})],1),e("div",{staticStyle:{"margin-bottom":"15px"}},[e("Upload",{attrs:{uploadTitle:"项目预览图地址"},model:{value:t.form.url,callback:function(a){t.$set(t.form,"url",a)},expression:"form.url"}})],1),e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addUploadHandle}},[t._v("发布文件")])],1)},o=[],i=e("5530"),s=e("d443"),r=e("91b6"),c={data:function(){return{form:{name:"",description:"",url:""}}},components:{Upload:s["a"]},methods:{addUploadHandle:function(){var t=this,a=Object(i["a"])({},this.form);Object(r["a"])(a).then((function(){t.$router.push("/uploadsList"),t.$message.success("添加文件成功")}))}}},l=c,u=(e("6eab"),e("2877")),d=Object(u["a"])(l,n,o,!1,null,"5e8d7bb4",null);a["default"]=d.exports},"6eab":function(t,a,e){"use strict";e("e474")},"91b6":function(t,a,e){"use strict";e.d(a,"a",(function(){return o})),e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s}));var n=e("b775");function o(t){return Object(n["a"])({url:"/api/upload/save",method:"post",data:t})}function i(){return n["a"].get("/api/upload/list")}function s(t,a){return Object(n["a"])({url:"/api/upload/edit/".concat(t),method:"put",data:a})}},b7bd:function(t,a,e){},d443:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"block"},[t._v(t._s(t.uploadTitle))]),e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess,headers:t.headers}},[t.value?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},o=[],i={props:["uploadTitle","value"],computed:{imageUrl:function(){if(this.value)return this.value},headers:function(){return{Authorization:"Bearer "+localStorage.getItem("adminToken")}}},methods:{handleAvatarSuccess:function(t){!t.code&&t.data&&this.$emit("input",t.data)}}},s=i,r=(e("15f4"),e("2877")),c=Object(r["a"])(s,n,o,!1,null,"1d1cbe79",null);a["a"]=c.exports},e474:function(t,a,e){}}]);